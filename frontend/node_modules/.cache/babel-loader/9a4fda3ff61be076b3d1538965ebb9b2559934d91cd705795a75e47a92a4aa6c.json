{"ast":null,"code":"var _jsxFileName = \"/home/rob/Documents/picante/frontend/src/pages/AccountSettingsPage.tsx\",\n  _s = $RefreshSig$();\n// src/pages/AccountSettingsPage.tsx\n\nimport React, { useState, useEffect } from 'react';\nimport Header from '../components/Header';\nimport Button from '../components/Button';\nimport UnsubscribeModal from '../components/UnsubscribeModal';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AccountSettingsPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [user, setUser] = useState({\n    email: '',\n    subscriptionStatus: ''\n  });\n  const [email, setEmail] = useState('');\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [showUnsubscribeModal, setShowUnsubscribeModal] = useState(false);\n  useEffect(() => {\n    // Fetch user data\n    const fetchUserData = async () => {\n      try {\n        const response = await fetch('/api/user/profile', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.ok) {\n          const userData = await response.json();\n          setUser(userData);\n          setEmail(userData.email);\n        } else {\n          navigate('/login');\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    fetchUserData();\n  }, [navigate]);\n  const handleUpdateAccount = async () => {\n    // Implement account update logic\n    alert('Account information updated successfully!');\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n  const handleUnsubscribeClick = () => {\n    setShowUnsubscribeModal(true);\n  };\n  const handleCloseModal = () => {\n    setShowUnsubscribeModal(false);\n  };\n  const handleUnsubscribeSuccess = () => {\n    setUser(prevUser => ({\n      ...prevUser,\n      subscriptionStatus: 'Cancelled'\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"flex flex-col items-center px-7 pb-10 mx-auto w-full max-w-7xl bg-red-500 text-white min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"Account Settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"mt-6 w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl\",\n        children: \"Subscription Status:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-xl\",\n        children: user.subscriptionStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"w-full mt-8\",\n      onSubmit: e => e.preventDefault(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-white\",\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"w-full mt-2 px-4 py-2 bg-white rounded-lg text-black\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-white\",\n          children: \"Current Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"w-full mt-2 px-4 py-2 bg-white rounded-lg text-black\",\n          value: currentPassword,\n          onChange: e => setCurrentPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-white\",\n          children: \"New Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"w-full mt-2 px-4 py-2 bg-white rounded-lg text-black\",\n          value: newPassword,\n          onChange: e => setNewPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        text: \"Update Account\",\n        className: \"mt-6 bg-zinc-800 text-white\",\n        onClick: handleUpdateAccount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      text: \"Unsubscribe\",\n      className: \"mt-4 bg-red-600 text-white\",\n      onClick: handleUnsubscribeClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      text: \"Log Out\",\n      className: \"mt-4 bg-neutral-200 text-black\",\n      onClick: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), showUnsubscribeModal && /*#__PURE__*/_jsxDEV(UnsubscribeModal, {\n      isOpen: showUnsubscribeModal,\n      onClose: handleCloseModal,\n      userEmail: user.email,\n      onUnsubscribeSuccess: handleUnsubscribeSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(AccountSettingsPage, \"dCLCPDqI8rn/15EGC5hypjMvow4=\", false, function () {\n  return [useNavigate];\n});\n_c = AccountSettingsPage;\nexport default AccountSettingsPage;\nvar _c;\n$RefreshReg$(_c, \"AccountSettingsPage\");","map":{"version":3,"names":["React","useState","useEffect","Header","Button","UnsubscribeModal","useNavigate","jsxDEV","_jsxDEV","AccountSettingsPage","_s","navigate","user","setUser","email","subscriptionStatus","setEmail","currentPassword","setCurrentPassword","newPassword","setNewPassword","showUnsubscribeModal","setShowUnsubscribeModal","fetchUserData","response","fetch","headers","Authorization","localStorage","getItem","ok","userData","json","error","console","handleUpdateAccount","alert","handleLogout","removeItem","handleUnsubscribeClick","handleCloseModal","handleUnsubscribeSuccess","prevUser","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","e","preventDefault","type","value","onChange","target","text","onClick","isOpen","onClose","userEmail","onUnsubscribeSuccess","_c","$RefreshReg$"],"sources":["/home/rob/Documents/picante/frontend/src/pages/AccountSettingsPage.tsx"],"sourcesContent":["// src/pages/AccountSettingsPage.tsx\n\nimport React, { useState, useEffect } from 'react';\nimport Header from '../components/Header';\nimport Button from '../components/Button';\nimport UnsubscribeModal from '../components/UnsubscribeModal';\nimport { useNavigate } from 'react-router-dom';\n\ninterface User {\n  email: string;\n  subscriptionStatus: string;\n}\n\nconst AccountSettingsPage: React.FC = () => {\n  const navigate = useNavigate();\n\n  const [user, setUser] = useState<User>({ email: '', subscriptionStatus: '' });\n  const [email, setEmail] = useState('');\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [showUnsubscribeModal, setShowUnsubscribeModal] = useState(false);\n\n  useEffect(() => {\n    // Fetch user data\n    const fetchUserData = async () => {\n      try {\n        const response = await fetch('/api/user/profile', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\n          },\n        });\n\n        if (response.ok) {\n          const userData = await response.json();\n          setUser(userData);\n          setEmail(userData.email);\n        } else {\n          navigate('/login');\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n\n    fetchUserData();\n  }, [navigate]);\n\n  const handleUpdateAccount = async () => {\n    // Implement account update logic\n    alert('Account information updated successfully!');\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n\n  const handleUnsubscribeClick = () => {\n    setShowUnsubscribeModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setShowUnsubscribeModal(false);\n  };\n\n  const handleUnsubscribeSuccess = () => {\n    setUser((prevUser) => ({\n      ...prevUser,\n      subscriptionStatus: 'Cancelled',\n    }));\n  };\n\n  return (\n    <main className=\"flex flex-col items-center px-7 pb-10 mx-auto w-full max-w-7xl bg-red-500 text-white min-h-screen\">\n      <Header title=\"Account Settings\" />\n\n      <section className=\"mt-6 w-full\">\n        <h2 className=\"text-2xl\">Subscription Status:</h2>\n        <p className=\"mt-2 text-xl\">{user.subscriptionStatus}</p>\n      </section>\n\n      <form className=\"w-full mt-8\" onSubmit={(e) => e.preventDefault()}>\n        <div className=\"mt-4\">\n          <label className=\"text-white\">Email:</label>\n          <input\n            type=\"email\"\n            className=\"w-full mt-2 px-4 py-2 bg-white rounded-lg text-black\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n\n        <div className=\"mt-4\">\n          <label className=\"text-white\">Current Password:</label>\n          <input\n            type=\"password\"\n            className=\"w-full mt-2 px-4 py-2 bg-white rounded-lg text-black\"\n            value={currentPassword}\n            onChange={(e) => setCurrentPassword(e.target.value)}\n          />\n        </div>\n\n        <div className=\"mt-4\">\n          <label className=\"text-white\">New Password:</label>\n          <input\n            type=\"password\"\n            className=\"w-full mt-2 px-4 py-2 bg-white rounded-lg text-black\"\n            value={newPassword}\n            onChange={(e) => setNewPassword(e.target.value)}\n          />\n        </div>\n\n        <Button\n          text=\"Update Account\"\n          className=\"mt-6 bg-zinc-800 text-white\"\n          onClick={handleUpdateAccount}\n        />\n      </form>\n\n      <Button\n        text=\"Unsubscribe\"\n        className=\"mt-4 bg-red-600 text-white\"\n        onClick={handleUnsubscribeClick}\n      />\n\n      <Button\n        text=\"Log Out\"\n        className=\"mt-4 bg-neutral-200 text-black\"\n        onClick={handleLogout}\n      />\n\n      {showUnsubscribeModal && (\n        <UnsubscribeModal\n          isOpen={showUnsubscribeModal}\n          onClose={handleCloseModal}\n          userEmail={user.email}\n          onUnsubscribeSuccess={handleUnsubscribeSuccess}\n        />\n      )}\n    </main>\n  );\n};\n\nexport default AccountSettingsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}